<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Required QUIC Endpoint Handler Event Callback Functions"><title>EndpointEventCallbacks in swiftlet_quic - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="swiftlet_quic" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0 (82e1608df 2023-12-21)" data-channel="1.75.0" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../swiftlet_quic/index.html">swiftlet_quic</a><span class="version">0.1.0</span></h2></div><h2 class="location"><a href="#">EndpointEventCallbacks</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.connection_ended">connection_ended</a></li><li><a href="#tymethod.connection_started">connection_started</a></li><li><a href="#tymethod.main_stream_recv">main_stream_recv</a></li><li><a href="#tymethod.tick">tick</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.background_stream_recv">background_stream_recv</a></li><li><a href="#method.connection_ending_warning">connection_ending_warning</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In crate swiftlet_quic</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">swiftlet_quic</a>::<wbr><a class="trait" href="#">EndpointEventCallbacks</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/swiftlet_quic/lib.rs.html#45-121">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait EndpointEventCallbacks {
    // Required methods
    fn <a href="#tymethod.connection_started" class="fn">connection_started</a>(
        &amp;mut self,
        endpoint: &amp;mut <a class="struct" href="endpoint/struct.Endpoint.html" title="struct swiftlet_quic::endpoint::Endpoint">Endpoint</a>,
        cid: &amp;<a class="struct" href="endpoint/struct.ConnectionId.html" title="struct swiftlet_quic::endpoint::ConnectionId">ConnectionId</a>
    );
<span class="item-spacer"></span>    fn <a href="#tymethod.connection_ended" class="fn">connection_ended</a>(
        &amp;mut self,
        endpoint: &amp;mut <a class="struct" href="endpoint/struct.Endpoint.html" title="struct swiftlet_quic::endpoint::Endpoint">Endpoint</a>,
        cid: &amp;<a class="struct" href="endpoint/struct.ConnectionId.html" title="struct swiftlet_quic::endpoint::ConnectionId">ConnectionId</a>,
        reason: <a class="enum" href="endpoint/enum.ConnectionEndReason.html" title="enum swiftlet_quic::endpoint::ConnectionEndReason">ConnectionEndReason</a>,
        remaining_connections: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.usize.html">usize</a>
    ) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.bool.html">bool</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.tick" class="fn">tick</a>(&amp;mut self, endpoint: &amp;mut <a class="struct" href="endpoint/struct.Endpoint.html" title="struct swiftlet_quic::endpoint::Endpoint">Endpoint</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.bool.html">bool</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.main_stream_recv" class="fn">main_stream_recv</a>(
        &amp;mut self,
        endpoint: &amp;mut <a class="struct" href="endpoint/struct.Endpoint.html" title="struct swiftlet_quic::endpoint::Endpoint">Endpoint</a>,
        cid: &amp;<a class="struct" href="endpoint/struct.ConnectionId.html" title="struct swiftlet_quic::endpoint::ConnectionId">ConnectionId</a>,
        read_data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u8.html">u8</a>]
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.usize.html">usize</a>&gt;;

    // Provided methods
    fn <a href="#method.connection_ending_warning" class="fn">connection_ending_warning</a>(
        &amp;mut self,
        _endpoint: &amp;mut <a class="struct" href="endpoint/struct.Endpoint.html" title="struct swiftlet_quic::endpoint::Endpoint">Endpoint</a>,
        _cid: &amp;<a class="struct" href="endpoint/struct.ConnectionId.html" title="struct swiftlet_quic::endpoint::ConnectionId">ConnectionId</a>,
        _reason: <a class="enum" href="endpoint/enum.ConnectionEndReason.html" title="enum swiftlet_quic::endpoint::ConnectionEndReason">ConnectionEndReason</a>
    ) { ... }
<span class="item-spacer"></span>    fn <a href="#method.background_stream_recv" class="fn">background_stream_recv</a>(
        &amp;mut self,
        _endpoint: &amp;mut <a class="struct" href="endpoint/struct.Endpoint.html" title="struct swiftlet_quic::endpoint::Endpoint">Endpoint</a>,
        _cid: &amp;<a class="struct" href="endpoint/struct.ConnectionId.html" title="struct swiftlet_quic::endpoint::ConnectionId">ConnectionId</a>,
        _read_data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u8.html">u8</a>]
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.usize.html">usize</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Required QUIC Endpoint Handler Event Callback Functions</p>
<p>These functions will get called for their respective events.
These callbacks are expected to return within a couple milliseconds AT THE MOST
for all processing cases.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.connection_started" class="method"><a class="src rightside" href="../src/swiftlet_quic/lib.rs.html#47">source</a><h4 class="code-header">fn <a href="#tymethod.connection_started" class="fn">connection_started</a>(&amp;mut self, endpoint: &amp;mut <a class="struct" href="endpoint/struct.Endpoint.html" title="struct swiftlet_quic::endpoint::Endpoint">Endpoint</a>, cid: &amp;<a class="struct" href="endpoint/struct.ConnectionId.html" title="struct swiftlet_quic::endpoint::ConnectionId">ConnectionId</a>)</h4></section></summary><div class="docblock"><p>Called when a new connection is started and is application ready.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.connection_ended" class="method"><a class="src rightside" href="../src/swiftlet_quic/lib.rs.html#54-60">source</a><h4 class="code-header">fn <a href="#tymethod.connection_ended" class="fn">connection_ended</a>(
    &amp;mut self,
    endpoint: &amp;mut <a class="struct" href="endpoint/struct.Endpoint.html" title="struct swiftlet_quic::endpoint::Endpoint">Endpoint</a>,
    cid: &amp;<a class="struct" href="endpoint/struct.ConnectionId.html" title="struct swiftlet_quic::endpoint::ConnectionId">ConnectionId</a>,
    reason: <a class="enum" href="endpoint/enum.ConnectionEndReason.html" title="enum swiftlet_quic::endpoint::ConnectionEndReason">ConnectionEndReason</a>,
    remaining_connections: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.usize.html">usize</a>
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Called when a connection has ended and should be cleaned up.</p>
<p>Return true if you want the Endpoint Handler event loop to exit.
The event loop will return an Ok(true) indicating that the connection_ended callback function caused the exit.
This is intended to be useful in case the application wants to start up the Endpoint Handler event loop again.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.tick" class="method"><a class="src rightside" href="../src/swiftlet_quic/lib.rs.html#79">source</a><h4 class="code-header">fn <a href="#tymethod.tick" class="fn">tick</a>(&amp;mut self, endpoint: &amp;mut <a class="struct" href="endpoint/struct.Endpoint.html" title="struct swiftlet_quic::endpoint::Endpoint">Endpoint</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Called when the next tick occurrs based on the tick duration given to the run_event_loop call.</p>
<p>Return true if you want the Endpoint Handler event loop to exit.
The event loop will return an Ok(false) indicating that the tick callback function caused the exit.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.main_stream_recv" class="method"><a class="src rightside" href="../src/swiftlet_quic/lib.rs.html#91-96">source</a><h4 class="code-header">fn <a href="#tymethod.main_stream_recv" class="fn">main_stream_recv</a>(
    &amp;mut self,
    endpoint: &amp;mut <a class="struct" href="endpoint/struct.Endpoint.html" title="struct swiftlet_quic::endpoint::Endpoint">Endpoint</a>,
    cid: &amp;<a class="struct" href="endpoint/struct.ConnectionId.html" title="struct swiftlet_quic::endpoint::ConnectionId">ConnectionId</a>,
    read_data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u8.html">u8</a>]
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.usize.html">usize</a>&gt;</h4></section></summary><div class="docblock"><p>Called when there is something to read on the main stream.</p>
<p>The read_data length will be the number of bytes asked for on the previous call.
The first time it is called the length will be the number of bytes set by the Endpoint Config.
This data can be processed based on the application protocol.</p>
<p>Return the number of bytes you want to read the next time this callback is called.
If the optional usize value is set to zero (0) it will be interpreted as a one (1).
Returning a None will close the main stream but since the main stream is required,
the connection will start the close process.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.connection_ending_warning" class="method"><a class="src rightside" href="../src/swiftlet_quic/lib.rs.html#66-73">source</a><h4 class="code-header">fn <a href="#method.connection_ending_warning" class="fn">connection_ending_warning</a>(
    &amp;mut self,
    _endpoint: &amp;mut <a class="struct" href="endpoint/struct.Endpoint.html" title="struct swiftlet_quic::endpoint::Endpoint">Endpoint</a>,
    _cid: &amp;<a class="struct" href="endpoint/struct.ConnectionId.html" title="struct swiftlet_quic::endpoint::ConnectionId">ConnectionId</a>,
    _reason: <a class="enum" href="endpoint/enum.ConnectionEndReason.html" title="enum swiftlet_quic::endpoint::ConnectionEndReason">ConnectionEndReason</a>
)</h4></section></summary><div class="docblock"><p>Called when a connection is in the process of ending and allows an application to clean up
relevant states earlier before the connection fully ends.</p>
<p>By default, this function does nothing when called.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.background_stream_recv" class="method"><a class="src rightside" href="../src/swiftlet_quic/lib.rs.html#112-120">source</a><h4 class="code-header">fn <a href="#method.background_stream_recv" class="fn">background_stream_recv</a>(
    &amp;mut self,
    _endpoint: &amp;mut <a class="struct" href="endpoint/struct.Endpoint.html" title="struct swiftlet_quic::endpoint::Endpoint">Endpoint</a>,
    _cid: &amp;<a class="struct" href="endpoint/struct.ConnectionId.html" title="struct swiftlet_quic::endpoint::ConnectionId">ConnectionId</a>,
    _read_data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u8.html">u8</a>]
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.usize.html">usize</a>&gt;</h4></section></summary><div class="docblock"><p>Called when there is something to read on the background stream.</p>
<p>The read_data length will be the number of bytes asked for on the previous call.
The first time it is called the length will be the number of bytes set by the Endpoint Config.
This data can be processed based on the application protocol.</p>
<p>Return the number of bytes you want to read the next time this callback is called.
If the optional usize value is set to zero (0) it will be interpreted as a one (1).
Returning a None will close the background stream but since the background stream is required,
the connection will start the close process.</p>
<p>By default, this function will return None, which translates to a connection closure as indicated above.
This function should be overwritten to handle cases where a connection might send
information over the background stream to prevent accidental connection closures.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../trait.impl/swiftlet_quic/trait.EndpointEventCallbacks.js" async></script></section></div></main></body></html>